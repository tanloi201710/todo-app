{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar Minute_In_Milli = 60 * 1000;\nvar Hour_In_Milli = 60 * Minute_In_Milli;\nvar Day_In_Milli = 24 * Hour_In_Milli;\n\nvar JS = function () {\n  function JS() {\n    _classCallCheck(this, JS);\n  }\n\n  _createClass(JS, null, [{\n    key: 'isString',\n    // String\n    value: function isString(val) {\n      return typeof val === 'string';\n    }\n  }, {\n    key: 'padNumber',\n    value: function padNumber(n, length) {\n      if (n < 0) {\n        return '-' + JS.padNumber(-n, length - 1);\n      }\n\n      var cur = n % 10;\n      var remain = Math.floor(n / 10);\n      var s = '' + cur;\n\n      for (var i = 1; i < length; i++) {\n        if (remain === 0) {\n          s = '0' + s;\n        } else {\n          cur = remain % 10;\n          remain = Math.floor(remain / 10);\n          s = '' + cur + s;\n        }\n      }\n\n      return s;\n    }\n  }, {\n    key: 'format',\n    value: function format(src) {\n      var args = Array.prototype.slice.call(arguments, 1);\n\n      if (args.length === 0) {\n        return src;\n      }\n\n      return src.replace(/{(\\d+)}/g, function (match, n) {\n        return typeof args[n] === 'undefined' ? match : args[n];\n      });\n    } // Object\n\n  }, {\n    key: 'deepAssign',\n    value: function deepAssign() {\n      var _arguments = arguments;\n\n      if (arguments.length === 0) {\n        return;\n      }\n\n      var obj = arguments[0];\n\n      var _loop = function _loop() {\n        var next = _arguments[i];\n        Object.keys(next).forEach(function (key) {\n          if (!obj[key]) {\n            return JS._assignProp(obj, next, key);\n          }\n\n          if (_typeof(obj[key]) !== _typeof(next[key])) {\n            // override if type different\n            return JS._assignProp(obj, next, key);\n          }\n\n          if (JS.isArray(next[key])) {\n            return JS.appendUnique(obj[key], next[key]);\n          }\n\n          if (_typeof(next[key]) === 'object') {\n            return JS.deepAssign(obj[key], next[key]);\n          }\n\n          obj[key] = next[key];\n        });\n      };\n\n      for (var i = 1; i < arguments.length; i++) {\n        _loop();\n      }\n\n      return obj;\n    }\n  }, {\n    key: '_assignProp',\n    value: function _assignProp(first, second, key) {\n      if (_typeof(second[key]) === 'object') {\n        return first[key] = Object.assign({}, second[key]);\n      }\n\n      first[key] = second[key];\n    }\n  }, {\n    key: 'lessProps',\n    value: function lessProps(props, less) {\n      var p = Object.assign({}, props);\n\n      if (!props || !less) {\n        return p;\n      }\n\n      var list = [].concat(less);\n      list.forEach(function (prop) {\n        if (typeof prop === 'string') {\n          var regex = new RegExp('^' + prop + '$');\n          Object.keys(props).map(function (key) {\n            if (key.match(regex)) {\n              delete p[key];\n            }\n          });\n        }\n      });\n      return p;\n    }\n  }, {\n    key: 'hasProps',\n    value: function hasProps(props, lookup) {\n      if (!lookup) {\n        return 0;\n      }\n\n      var count = 0;\n      var list = [].concat(lookup);\n      list.forEach(function (prop) {\n        if (typeof prop === 'string') {\n          var regex = new RegExp('^' + prop + '$');\n          Object.keys(props).map(function (key) {\n            if (key.match(regex)) {\n              count++;\n            }\n          });\n        }\n      });\n      return count;\n    }\n  }, {\n    key: 'traverseProps',\n    value: function traverseProps(obj, callback) {\n      if (!callback) {\n        console.log('no callback for traverse, do nothing');\n        return;\n      }\n\n      JS._traverseProps([], obj, callback);\n    }\n  }, {\n    key: '_traverseProps',\n    value: function _traverseProps(path, obj, callback) {\n      if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n        return;\n      }\n\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n        callback(path, key, val);\n\n        JS._traverseProps(path.concat(key), val, callback);\n      });\n    } // Array\n\n  }, {\n    key: 'isArray',\n    value: function isArray(val) {\n      if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) !== 'object') {\n        return false;\n      }\n\n      return typeof val.length === 'number';\n    }\n  }, {\n    key: 'sureArray',\n    value: function sureArray(ary) {\n      return [].concat(ary);\n    }\n  }, {\n    key: 'appendUnique',\n    value: function appendUnique(ary, val) {\n      if (!ary) {\n        return false;\n      }\n\n      var exists = ary.filter(function (item) {\n        return item === val;\n      });\n\n      if (exists.length > 0) {\n        return false;\n      }\n\n      ary.push(val);\n      return true;\n    } // Date Time\n\n  }, {\n    key: 'ts',\n    value: function ts() {\n      return new Date().getTime();\n    }\n  }, {\n    key: 'clientTimezoneOffset',\n    value: function clientTimezoneOffset() {\n      // in milliseconds\n      var dt = new Date();\n      var tzo = dt.getTimezoneOffset();\n      return tzo * Minute_In_Milli;\n    }\n  }, {\n    key: 'utcToLocal',\n    value: function utcToLocal(ts) {\n      return ts - JS.clientTimezoneOffset();\n    }\n  }, {\n    key: 'localToUtc',\n    value: function localToUtc(ts) {\n      return ts + JS.clientTimezoneOffset();\n    }\n  }, {\n    key: 'roundToMinutes',\n    value: function roundToMinutes(ts) {\n      return Math.floor(ts / Minute_In_Milli) * Minute_In_Milli;\n    }\n  }, {\n    key: 'roundToHours',\n    value: function roundToHours(ts) {\n      return Math.floor(ts / Hour_In_Milli) * Hour_In_Milli;\n    }\n  }, {\n    key: 'roundToDates',\n    value: function roundToDates(ts) {\n      return Math.floor(ts / Day_In_Milli) * Day_In_Milli;\n    }\n  }, {\n    key: 'today',\n    value: function today() {\n      return roundToDates(new Date().getTime());\n    }\n  }, {\n    key: 'nextDay',\n    value: function nextDay(n) {\n      return JS.today() + Day_In_Milli * (n || 1);\n    }\n  }, {\n    key: 'thisSunday',\n    value: function thisSunday() {\n      var td = JS.today();\n      var dt = new Date(td);\n      return td - dt.getDay() * Day_In_Milli;\n    }\n  }, {\n    key: 'nextSunday',\n    value: function nextSunday(n) {\n      return JS.thisSunday() + 7 * Day_In_Milli * (n || 1);\n    }\n  }, {\n    key: 'thisMonth',\n    value: function thisMonth() {\n      var td = JS.today();\n      var dt = new Date(td);\n      return td - (dt.getDate() - 1) * Day_In_Milli;\n    }\n  }, {\n    key: 'nextMonth',\n    value: function nextMonth(n) {\n      n = n || 1;\n      var td = JS.today();\n      var dt = new Date(td);\n      var m = dt.getMonth();\n      var next_y = dt.getFullYear() + Math.floor((m + 1 + n) / 12);\n      var next_m = (m + n) % 12;\n      var next_dstr = [next_y, JS.padNumber(next_m + 1, 2), '01'].join('-') + ' 00:00:00';\n      var next_dt = new Date(next_dstr);\n      return next_dt.getTime();\n    } // React\n\n  }, {\n    key: 'styleToCss',\n    value: function styleToCss(style) {\n      if (!style) {\n        return '';\n      }\n\n      var css = Object.keys(style).map(function (key) {\n        var name = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n        return name + ':' + style[key];\n      });\n      return '{' + css.join(';').replace(/\"/g, '&quot;') + '}';\n    } // General\n\n  }, {\n    key: 'isUndefined',\n    value: function isUndefined(val) {\n      return typeof val === 'undefined';\n    }\n  }, {\n    key: 'undefinedThen',\n    value: function undefinedThen(val, defVal) {\n      return JS.isUndefined(val) ? defVal : val;\n    }\n  }, {\n    key: 'isNumber',\n    value: function isNumber(val) {\n      if (!val) {\n        return false;\n      }\n\n      return !isNaN(val);\n    }\n    /** assume JS runing single thread **/\n\n  }, {\n    key: 'cheapId',\n    value: function cheapId() {\n      if (!JS.lastCheapId) {\n        JS.lastCheapId = new Date().getTime();\n      }\n\n      return ++JS.lastCheapId;\n    }\n  }]);\n\n  return JS;\n}();\n\nexports.default = JS;","map":{"version":3,"sources":["/home/tanloi/Documents/React/todo-app/node_modules/fsts/lib/JS.js"],"names":["Object","defineProperty","exports","value","_typeof","Symbol","iterator","obj","constructor","prototype","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","_classCallCheck","instance","TypeError","Minute_In_Milli","Hour_In_Milli","Day_In_Milli","JS","isString","val","padNumber","n","cur","remain","Math","floor","s","format","src","args","Array","slice","call","arguments","replace","match","deepAssign","_arguments","_loop","next","keys","forEach","_assignProp","isArray","appendUnique","first","second","assign","lessProps","less","p","list","concat","prop","regex","RegExp","map","hasProps","lookup","count","traverseProps","callback","console","log","_traverseProps","path","sureArray","ary","exists","filter","item","push","ts","Date","getTime","clientTimezoneOffset","dt","tzo","getTimezoneOffset","utcToLocal","localToUtc","roundToMinutes","roundToHours","roundToDates","today","nextDay","thisSunday","td","getDay","nextSunday","thisMonth","getDate","nextMonth","m","getMonth","next_y","getFullYear","next_m","next_dstr","join","next_dt","styleToCss","style","css","name","toLowerCase","isUndefined","undefinedThen","defVal","isNumber","isNaN","cheapId","lastCheapId","default"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Minute_In_Milli = 60 * 1000;\nvar Hour_In_Milli = 60 * Minute_In_Milli;\nvar Day_In_Milli = 24 * Hour_In_Milli;\n\nvar JS = function () {\n    function JS() {\n        _classCallCheck(this, JS);\n    }\n\n    _createClass(JS, null, [{\n        key: 'isString',\n\n        // String\n        value: function isString(val) {\n            return typeof val === 'string';\n        }\n    }, {\n        key: 'padNumber',\n        value: function padNumber(n, length) {\n            if (n < 0) {\n                return '-' + JS.padNumber(-n, length - 1);\n            }\n\n            var cur = n % 10;\n            var remain = Math.floor(n / 10);\n            var s = '' + cur;\n            for (var i = 1; i < length; i++) {\n                if (remain === 0) {\n                    s = '0' + s;\n                } else {\n                    cur = remain % 10;\n                    remain = Math.floor(remain / 10);\n                    s = '' + cur + s;\n                }\n            }\n\n            return s;\n        }\n    }, {\n        key: 'format',\n        value: function format(src) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            if (args.length === 0) {\n                return src;\n            }\n            return src.replace(/{(\\d+)}/g, function (match, n) {\n                return typeof args[n] === 'undefined' ? match : args[n];\n            });\n        }\n\n        // Object\n\n    }, {\n        key: 'deepAssign',\n        value: function deepAssign() {\n            var _arguments = arguments;\n\n            if (arguments.length === 0) {\n                return;\n            }\n\n            var obj = arguments[0];\n\n            var _loop = function _loop() {\n                var next = _arguments[i];\n                Object.keys(next).forEach(function (key) {\n                    if (!obj[key]) {\n                        return JS._assignProp(obj, next, key);\n                    }\n                    if (_typeof(obj[key]) !== _typeof(next[key])) {\n                        // override if type different\n                        return JS._assignProp(obj, next, key);\n                    }\n                    if (JS.isArray(next[key])) {\n                        return JS.appendUnique(obj[key], next[key]);\n                    }\n                    if (_typeof(next[key]) === 'object') {\n                        return JS.deepAssign(obj[key], next[key]);\n                    }\n                    obj[key] = next[key];\n                });\n            };\n\n            for (var i = 1; i < arguments.length; i++) {\n                _loop();\n            }\n\n            return obj;\n        }\n    }, {\n        key: '_assignProp',\n        value: function _assignProp(first, second, key) {\n            if (_typeof(second[key]) === 'object') {\n                return first[key] = Object.assign({}, second[key]);\n            }\n            first[key] = second[key];\n        }\n    }, {\n        key: 'lessProps',\n        value: function lessProps(props, less) {\n            var p = Object.assign({}, props);\n            if (!props || !less) {\n                return p;\n            }\n\n            var list = [].concat(less);\n            list.forEach(function (prop) {\n                if (typeof prop === 'string') {\n                    var regex = new RegExp('^' + prop + '$');\n                    Object.keys(props).map(function (key) {\n                        if (key.match(regex)) {\n                            delete p[key];\n                        }\n                    });\n                }\n            });\n\n            return p;\n        }\n    }, {\n        key: 'hasProps',\n        value: function hasProps(props, lookup) {\n            if (!lookup) {\n                return 0;\n            }\n\n            var count = 0;\n            var list = [].concat(lookup);\n            list.forEach(function (prop) {\n                if (typeof prop === 'string') {\n                    var regex = new RegExp('^' + prop + '$');\n                    Object.keys(props).map(function (key) {\n                        if (key.match(regex)) {\n                            count++;\n                        }\n                    });\n                }\n            });\n\n            return count;\n        }\n    }, {\n        key: 'traverseProps',\n        value: function traverseProps(obj, callback) {\n            if (!callback) {\n                console.log('no callback for traverse, do nothing');\n                return;\n            }\n\n            JS._traverseProps([], obj, callback);\n        }\n    }, {\n        key: '_traverseProps',\n        value: function _traverseProps(path, obj, callback) {\n            if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') {\n                return;\n            }\n\n            Object.keys(obj).forEach(function (key) {\n                var val = obj[key];\n                callback(path, key, val);\n                JS._traverseProps(path.concat(key), val, callback);\n            });\n        }\n\n        // Array\n\n    }, {\n        key: 'isArray',\n        value: function isArray(val) {\n            if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) !== 'object') {\n                return false;\n            }\n\n            return typeof val.length === 'number';\n        }\n    }, {\n        key: 'sureArray',\n        value: function sureArray(ary) {\n            return [].concat(ary);\n        }\n    }, {\n        key: 'appendUnique',\n        value: function appendUnique(ary, val) {\n            if (!ary) {\n                return false;\n            }\n\n            var exists = ary.filter(function (item) {\n                return item === val;\n            });\n            if (exists.length > 0) {\n                return false;\n            }\n\n            ary.push(val);\n            return true;\n        }\n\n        // Date Time\n\n    }, {\n        key: 'ts',\n        value: function ts() {\n            return new Date().getTime();\n        }\n    }, {\n        key: 'clientTimezoneOffset',\n        value: function clientTimezoneOffset() {\n            // in milliseconds\n            var dt = new Date();\n            var tzo = dt.getTimezoneOffset();\n            return tzo * Minute_In_Milli;\n        }\n    }, {\n        key: 'utcToLocal',\n        value: function utcToLocal(ts) {\n            return ts - JS.clientTimezoneOffset();\n        }\n    }, {\n        key: 'localToUtc',\n        value: function localToUtc(ts) {\n            return ts + JS.clientTimezoneOffset();\n        }\n    }, {\n        key: 'roundToMinutes',\n        value: function roundToMinutes(ts) {\n            return Math.floor(ts / Minute_In_Milli) * Minute_In_Milli;\n        }\n    }, {\n        key: 'roundToHours',\n        value: function roundToHours(ts) {\n            return Math.floor(ts / Hour_In_Milli) * Hour_In_Milli;\n        }\n    }, {\n        key: 'roundToDates',\n        value: function roundToDates(ts) {\n            return Math.floor(ts / Day_In_Milli) * Day_In_Milli;\n        }\n    }, {\n        key: 'today',\n        value: function today() {\n            return roundToDates(new Date().getTime());\n        }\n    }, {\n        key: 'nextDay',\n        value: function nextDay(n) {\n            return JS.today() + Day_In_Milli * (n || 1);\n        }\n    }, {\n        key: 'thisSunday',\n        value: function thisSunday() {\n            var td = JS.today();\n            var dt = new Date(td);\n            return td - dt.getDay() * Day_In_Milli;\n        }\n    }, {\n        key: 'nextSunday',\n        value: function nextSunday(n) {\n            return JS.thisSunday() + 7 * Day_In_Milli * (n || 1);\n        }\n    }, {\n        key: 'thisMonth',\n        value: function thisMonth() {\n            var td = JS.today();\n            var dt = new Date(td);\n            return td - (dt.getDate() - 1) * Day_In_Milli;\n        }\n    }, {\n        key: 'nextMonth',\n        value: function nextMonth(n) {\n            n = n || 1;\n            var td = JS.today();\n            var dt = new Date(td);\n            var m = dt.getMonth();\n            var next_y = dt.getFullYear() + Math.floor((m + 1 + n) / 12);\n            var next_m = (m + n) % 12;\n            var next_dstr = [next_y, JS.padNumber(next_m + 1, 2), '01'].join('-') + ' 00:00:00';\n            var next_dt = new Date(next_dstr);\n            return next_dt.getTime();\n        }\n\n        // React\n\n    }, {\n        key: 'styleToCss',\n        value: function styleToCss(style) {\n            if (!style) {\n                return '';\n            }\n\n            var css = Object.keys(style).map(function (key) {\n                var name = key.replace(/([A-Z])/g, '-$1').toLowerCase();\n                return name + ':' + style[key];\n            });\n            return '{' + css.join(';').replace(/\"/g, '&quot;') + '}';\n        }\n\n        // General\n\n    }, {\n        key: 'isUndefined',\n        value: function isUndefined(val) {\n            return typeof val === 'undefined';\n        }\n    }, {\n        key: 'undefinedThen',\n        value: function undefinedThen(val, defVal) {\n            return JS.isUndefined(val) ? defVal : val;\n        }\n    }, {\n        key: 'isNumber',\n        value: function isNumber(val) {\n            if (!val) {\n                return false;\n            }\n\n            return !isNaN(val);\n        }\n\n        /** assume JS runing single thread **/\n\n    }, {\n        key: 'cheapId',\n        value: function cheapId() {\n            if (!JS.lastCheapId) {\n                JS.lastCheapId = new Date().getTime();\n            }\n            return ++JS.lastCheapId;\n        }\n    }]);\n\n    return JS;\n}();\n\nexports.default = JS;"]},"metadata":{},"sourceType":"script"}